{"ast":null,"code":"import _regeneratorRuntime from \"/Users/gabrielgodwin/dev/groove/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"/Users/gabrielgodwin/dev/groove/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport Search from \"../../components/Searchbox/Search.vue\";\nimport PopularAlbum from \"../../container/PopularAlbums\";\nexport default {\n  name: \"Home\",\n  components: {\n    Search: Search,\n    PopularAlbum: PopularAlbum\n  },\n  data: function data() {\n    return {\n      albums: [],\n      searchValue: \"\"\n    };\n  },\n  created: function created() {\n    this.getAlbums();\n  },\n  methods: {\n    getAlbums: function getAlbums() {\n      var _this = this;\n\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n        var accessToken, config, result, response;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                accessToken = localStorage.getItem(\"access_token\");\n                config = {\n                  headers: {\n                    \"Content-Type\": \"application/json\",\n                    Authorization: \"Bearer \".concat(accessToken)\n                  }\n                };\n                _context.prev = 2;\n                _context.next = 5;\n                return fetch(\"https://api.spotify.com/v1/browse/new-releases\", config);\n\n              case 5:\n                result = _context.sent;\n                _context.next = 8;\n                return result.json();\n\n              case 8:\n                response = _context.sent;\n                _this.albums = response.albums.items;\n                _context.next = 15;\n                break;\n\n              case 12:\n                _context.prev = 12;\n                _context.t0 = _context[\"catch\"](2);\n                return _context.abrupt(\"return\", _context.t0);\n\n              case 15:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, null, [[2, 12]]);\n      }))();\n    }\n  }\n};","map":{"version":3,"mappings":";;;AAwBA,OAAOA,MAAP,MAAmB,uCAAnB;AACA,OAAOC,YAAP,MAAyB,+BAAzB;AAEA,eAAe;EACbC,IAAI,EAAE,MADO;EAEbC,UAAU,EAAE;IACVH,MAAM,EAANA,MADU;IAEVC,YAAY,EAAZA;EAFU,CAFC;EAMbG,IANa,kBAMN;IACL,OAAO;MACLC,MAAM,EAAE,EADH;MAELC,WAAW,EAAE;IAFR,CAAP;EAID,CAXY;EAYbC,OAZa,qBAYH;IACR,KAAKC,SAAL;EACD,CAdY;EAebC,OAAO,EAAE;IACDD,SADC,uBACW;MAAA;;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBACVE,WADU,GACIC,YAAY,CAACC,OAAb,CAAqB,cAArB,CADJ;gBAEVC,MAFU,GAED;kBACbC,OAAO,EAAE;oBACP,gBAAgB,kBADT;oBAEPC,aAAa,mBAAYL,WAAZ;kBAFN;gBADI,CAFC;gBAAA;gBAAA;gBAAA,OASOM,KAAK,CACxB,gDADwB,EAExBH,MAFwB,CATZ;;cAAA;gBASRI,MATQ;gBAAA;gBAAA,OAaSA,MAAM,CAACC,IAAP,EAbT;;cAAA;gBAaRC,QAbQ;gBAcd,KAAI,CAACd,MAAL,GAAcc,QAAQ,CAACd,MAAT,CAAgBe,KAA9B;gBAdc;gBAAA;;cAAA;gBAAA;gBAAA;gBAAA;;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAkBjB;EAnBM;AAfI,CAAf","names":["Search","PopularAlbum","name","components","data","albums","searchValue","created","getAlbums","methods","accessToken","localStorage","getItem","config","headers","Authorization","fetch","result","json","response","items"],"sourceRoot":"","sources":["/Users/gabrielgodwin/dev/groove/src/views/Home/Home.vue"],"sourcesContent":["<template>\n  <div class=\"homepage flex_container\">\n    <div class=\"flex_container__left fade-in-from-left\">\n      <h1 class=\"homepage__heading\">Donâ€™t stop the groove.</h1>\n      <p class=\"homepage__caption\">Find new music you love with a search</p>\n      <Search\n        v-model:inputValue=\"searchValue\"\n        @enter=\"$router.push({ name: 'albums', query: { search: $event } })\"\n      />\n    </div>\n    <div class=\"fade-in-from-right\">\n      <img\n        src=\"@/assets/groove-image.jpg\"\n        alt=\"groove-image\"\n        class=\"groove_image\"\n      />\n    </div>\n  </div>\n  <PopularAlbum :albums=\"albums\">\n    <h1 class=\"popular__albums-title\">Popular albums</h1>\n  </PopularAlbum>\n</template>\n\n<script>\nimport Search from \"../../components/Searchbox/Search.vue\";\nimport PopularAlbum from \"../../container/PopularAlbums\";\n\nexport default {\n  name: \"Home\",\n  components: {\n    Search,\n    PopularAlbum,\n  },\n  data() {\n    return {\n      albums: [],\n      searchValue: \"\",\n    };\n  },\n  created() {\n    this.getAlbums();\n  },\n  methods: {\n    async getAlbums() {\n      const accessToken = localStorage.getItem(\"access_token\");\n      const config = {\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Authorization: `Bearer ${accessToken}`,\n        },\n      };\n      try {\n        const result = await fetch(\n          \"https://api.spotify.com/v1/browse/new-releases\",\n          config\n        );\n        const response = await result.json();\n        this.albums = response.albums.items;\n      } catch (err) {\n        return err;\n      }\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped src=\"./_home.scss\"></style>\n"]},"metadata":{},"sourceType":"module"}