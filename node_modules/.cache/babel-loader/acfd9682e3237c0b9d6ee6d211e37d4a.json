{"ast":null,"code":"import { createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, withCtx as _withCtx, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nimport _imports_0 from '@/assets/arrow.svg';\n\nvar _withScopeId = function _withScopeId(n) {\n  return _pushScopeId(\"data-v-6b334d45\"), n = n(), _popScopeId(), n;\n};\n\nvar _hoisted_1 = {\n  \"class\": \"albums\"\n};\nvar _hoisted_2 = {\n  \"class\": \"albums__content fade-in\"\n};\nvar _hoisted_3 = {\n  \"class\": \"albums__content_title\"\n};\n\nvar _hoisted_4 = /*#__PURE__*/_createTextVNode(\" Albums \");\n\nvar _hoisted_5 = /*#__PURE__*/_withScopeId(function () {\n  return /*#__PURE__*/_createElementVNode(\"br\", null, null, -1\n  /* HOISTED */\n  );\n});\n\nvar _hoisted_6 = /*#__PURE__*/_withScopeId(function () {\n  return /*#__PURE__*/_createElementVNode(\"p\", {\n    \"class\": \"albums__content_caption\"\n  }, \" Find new music you love with a search \", -1\n  /* HOISTED */\n  );\n});\n\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  var _component_Search = _resolveComponent(\"Search\");\n\n  var _component_PopularAlbums = _resolveComponent(\"PopularAlbums\");\n\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createVNode(_component_PopularAlbums, {\n    albums: $data.albums,\n    loading: $data.loading\n  }, {\n    \"default\": _withCtx(function () {\n      return [_createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"img\", {\n        onClick: _cache[0] || (_cache[0] = function ($event) {\n          return _ctx.$router.push({\n            name: 'home'\n          });\n        }),\n        src: _imports_0,\n        alt: \"search\"\n      }), _createElementVNode(\"h1\", _hoisted_3, [_hoisted_4, _hoisted_5, _createTextVNode(\" matching \\\"\" + _toDisplayString($data.searchValue) + \"\\\" \", 1\n      /* TEXT */\n      )]), _hoisted_6, _createVNode(_component_Search, {\n        inputValue: $data.searchValue,\n        \"onUpdate:inputValue\": _cache[1] || (_cache[1] = function ($event) {\n          return $data.searchValue = $event;\n        }),\n        onEnter: $options.getSearchResult\n      }, null, 8\n      /* PROPS */\n      , [\"inputValue\", \"onEnter\"])])];\n    }),\n    _: 1\n    /* STABLE */\n\n  }, 8\n  /* PROPS */\n  , [\"albums\", \"loading\"])]);\n}","map":{"version":3,"mappings":";OAMUA,gBAAwB;;;;;;;EAL3B,SAAM;;;EAEF,SAAM;;;EAML,SAAM;;;+CAAwB;;;sBACzBC,oBAAM,IAAN,EAAM,IAAN,EAAM,IAAN,EAAM;EAAA;EAAN;;;;sBAGTA,oBAEI,GAFJ,EAEI;IAFD,SAAM;EAEL,CAFJ,EAAmC,yCAAnC,EAEA;EAAA;EAFA;;;;;;;;uBAZNC,oBAkBM,KAlBN,cAkBM,CAjBJC,aAgBgBC,wBAhBhB,EAgBgB;IAhBAC,MAAM,EAAEC,YAgBR;IAhBiBC,OAAO,EAAED;EAgB1B,CAhBhB;wBACE;MAAA,OAcM,CAdNL,oBAcM,KAdN,cAcM,CAbJA,oBAIE,KAJF,EAIE;QAHCO,OAAK;UAAA,OAAEC,aAAQC,IAAR,CAAY;YAAAC;UAAA,CAAZ,CAAF;QAAA,EAGN;QAFAC,GAAwB,EAAxBZ,UAEA;QADAa,GAAG,EAAC;MACJ,CAJF,CAaI,EARJZ,oBAGK,IAHL,cAGK,aAFIa,UAEJ,mBAFU,iBACHC,iBAAGT,iBAAH,CADG,GACc,OAC7B;MAAA;OAAK,CAHL,CAQI,EAJJU,UAII,EADJb,aAAoEc,iBAApE,EAAoE;QAApDC,UAAU,EAAEZ,iBAAwC;;iBAAxCA,oBAAWa;UAA6B;QAA1BC,OAAK,EAAEC;MAAmB,CAApE;;MAAA,4BACI,CAdN,CAcM,CAdN;IAAA;;;;GADF;;EAAA,wBAiBI,CAlBN","names":["_imports_0","_createElementVNode","_createElementBlock","_createVNode","_component_PopularAlbums","albums","$data","loading","onClick","_ctx","push","name","src","alt","_hoisted_5","_toDisplayString","_hoisted_6","_component_Search","inputValue","$event","onEnter","$options"],"sourceRoot":"","sources":["/Users/gabrielgodwin/dev/groove/src/views/Albums/Albums.vue"],"sourcesContent":["<template>\n  <div class=\"albums\">\n    <PopularAlbums :albums=\"albums\" :loading=\"loading\">\n      <div class=\"albums__content fade-in\">\n        <img\n          @click=\"$router.push({ name: 'home' })\"\n          src=\"@/assets/arrow.svg\"\n          alt=\"search\"\n        />\n        <h1 class=\"albums__content_title\">\n          Albums <br />\n          matching \"{{ searchValue }}\"\n        </h1>\n        <p class=\"albums__content_caption\">\n          Find new music you love with a search\n        </p>\n        <Search v-model:inputValue=\"searchValue\" @enter=\"getSearchResult\" />\n      </div>\n    </PopularAlbums>\n  </div>\n</template>\n\n<script>\nimport Search from \"../../components/Searchbox/Search.vue\";\nimport PopularAlbums from \"../../container/PopularAlbums\";\n\nexport default {\n  name: \"Albums\",\n  components: {\n    PopularAlbums,\n    Search,\n  },\n  data() {\n    return {\n      searchValue: this.$route.query.search,\n      albums: [],\n      loading: false,\n    };\n  },\n  created() {\n    this.getSearchResult();\n  },\n  methods: {\n    async getSearchResult() {\n      this.loading = true;\n      const accessToken = localStorage.getItem(\"access_token\");\n      const config = {\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Authorization: `Bearer ${accessToken}`,\n        },\n      };\n      try {\n        const result = await fetch(\n          `https://api.spotify.com/v1/search?q=${this.searchValue}&type=album`,\n          config\n        );\n        const response = await result.json();\n        this.albums = response.albums.items;\n      } catch (err) {\n        return err;\n      } finally {\n        this.loading = false;\n      }\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped src=\"./_albums.scss\"></style>\n"]},"metadata":{},"sourceType":"module"}